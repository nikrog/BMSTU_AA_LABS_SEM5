\chapter{Аналитическая часть}
В данном разделе будет представлено описание алгоритма Брезенхема для построения отрезков.

\section{Алгоритм Брезенхема построения отрезка}
\textbf{Алгоритм Брезенхема} --- это алгоритм, определяющий, какие точки двумерного растра нужно закрасить, чтобы получить близкое приближение прямой линии между двумя заданными точками. Это один из старейших алгоритмов в машинной графике --- он был разработан Джеком Е. Брезенхемом в компании IBM в 1962 году \cite{brez_def}.

Уравнение прямой в общем виде:

\begin{equation}
	y=kx+b \text{ или } f(x,y)=Ax+By+C=0
\end{equation}

Коэффициенты A и B в уравнении выше выражаются через коэффициенты $k$ и $b$ уравнения прямой.

Если прямая проходит через две точки с координатами $(x_{1};y_{1})$ и $(x_{2};y_{2})$, то коэффициенты уравнения прямой определяются по формулам:

\begin{equation}
	A=y_{2}-y_{1},
\end{equation}

\begin{equation}
	B=x_{1}-x_{2},
\end{equation}

\begin{equation}
	C=y_{1} \cdot x_{2}-y_{2} \cdot x_{1}
\end{equation}

Для любой растровой точки с координатами $(x_{i};y_{i})$ значение функции

\begin{equation}
	f(x_{i},y_{i}) = 0, \text{ если точка лежит на прямой;}
\end{equation}

\begin{equation}
	f(x_{i},y_{i}) > 0, \text{ если точка лежит ниже прямой;}
\end{equation}
	
\begin{equation}
	f(x_{i},y_{i}), \text{ где i – номер отображаемой точки.}
\end{equation}

Таким образом, одним из методов решения того, какая из точек $P$ или $Q$ будет отображена на следующем шаге, является сравнение середины отрезка $|P-Q|$ со значением функции $f(x,y)$. Если значение $f(x,y)$ лежит ниже средней точки отрезка $|P-Q|$, то следующей отображаемой точкой будет точка $P$, иначе — точка $Q$.
Приращение функции $f$ будет выглядеть следующим образом:

\begin{equation}
	df=A \cdot dx+B \cdot dy
\end{equation}

После отображения точки с координатами $(x_{i},y_{i})$ принимается решение о следующей отображаемой точке. Для этого сравниваются приращения $dx$ и $dy$, характеризующие наличие или отсутствие перемещения по соответствующей координате. Эти приращения могут принимать значения 0 или 1. 

Следовательно, при перемещении от точки вправо:

\begin{equation}
	df=A,
\end{equation}

при перемещении от точки вправо и вниз:

\begin{equation}
	df=A + B,
\end{equation}

при перемещении от точки вниз:

\begin{equation}
	df=B
\end{equation}

Координаты начала отрезка, то есть точки, заведомо лежащей на искомой прямой известны. Необходимо поставить туда первую точку и принять $f = 0$. От текущей точки можно сделать два шага — либо по вертикали (по горизонтали), либо по диагонали на один пиксель.
Направление движения по вертикали или горизонтали определяется коэффициентом угла наклона. В случае если угол наклона меньше 45º и $|A|<|B|$, то с каждым шагом осуществляется движение по горизонтали или диагонали.
Если же угол наклона больше 45º, то с каждым шагом движение осуществляется по вертикали или диагонали \cite{brez_alg}.

Графическая интерпретация алгоритма Брезенхема построения отрезка представлена на рисунке \ref{img:brezenham.PNG}.
\imgw{\textwidth}{brezenham.PNG}{Графическая интерпретация алгоритма Брезенхема построения отрезка}

\section*{Вывод}
В данном разделе были рассмотрены основные идеи, лежащие в основе алгоритма Брезенхема построения отрезка.